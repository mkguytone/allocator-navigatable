<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>第15章 /proc ディレクトリー</title><link rel="stylesheet" type="text/css" href="docbook-xsl.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="Linux で C/C++ の足固め： Linux の メモリー/ファイル/mmap と C++ アロケーター" /><link rel="up" href="pt01.html" title="パート I. Linux と POSIX C" /><link rel="prev" href="ch14.html" title="第14章 読み書きファイル記述子" /><link rel="next" href="ch16.html" title="第16章 /dev/shm ディレクトリー" /><script xmlns="" type="text/javascript" src="script/head.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="ch14.html">戻る</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch16.html">次へ</a></td></tr></table><hr /></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="_proc_ディレクトリー"></a>第15章 /proc ディレクトリー</h2></div></div></div><p>　Linux の /proc ディレクトリーは /dev と比べると段違いに複雑なので説明は簡単にはできないですかね。</p><p>　まあ /proc を使うのはシステム管理者や DevOps の人たちでしょうかね。</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
procinfo
</span></dt><dd>
システム内の情報を /proc からかき集めて表示
</dd><dt><span class="term">
sysctl
</span></dt><dd>
カーネルパラメーターの設定に使える。 /proc/sys/ に表示されてるものが対象
</dd></dl></div><p>　ですが純粋なソフトウェア開発者でも頻繁に /proc/ ディレクトリーを確認することは十分にありえます。</p><p>　それが mmap 関数による仮想メモリーアドレスの割り当てです。</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
mmap
</span></dt><dd>
プロセスの仮想アドレス空間内に（任意のファイルとの）新しいメモリーマップを作る。メモリーマッピングを行うと情報が /proc/[pid]/maps に反映される
</dd></dl></div><p>　[pid]とは、プロセスのIDのことですが ps コマンドなどで表示されますね。</p><p>　それで mmap って何ですかの？　的な疑問もあるでしょうね。</p><p>　まあ考えかたとしてはハードディスク等の非メモリーの領域をメモリーとして使うための関数です。</p><p>　このハーデディスク等のアドレス領域をメモリーかのように使うことをメモリーマッピング（メモリーマップを作る）と言います。</p><p>　例えば C/C++ のポインター変数に mmap でマップしたディスクのアドレスを代入することができます。</p><p>　ただハードディスクに毎度アクセスするとプログラムの反応速度が遅くなるので共有メモリーとゆうタイプのメモリーにマップするのが一般的かと思います。</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch14.html">戻る</a> </td><td width="20%" align="center"><a accesskey="u" href="pt01.html">上に戻る</a></td><td width="40%" align="right"> <a accesskey="n" href="ch16.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>