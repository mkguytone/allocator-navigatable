<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>パート IV. glibc から malloc() の基本構造を理解してみる</title><link rel="stylesheet" type="text/css" href="vol.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="Linux で C/C++ の足固め： Linux の メモリー/ファイル/mmap と C++ アロケーター" /><link rel="up" href="index.html" title="Linux で C/C++ の足固め： Linux の メモリー/ファイル/mmap と C++ アロケーター" /><link rel="prev" href="ch27s02.html" title="27.2. strace によって brk() / malloc() のコールをチェック" /><link rel="next" href="ch28.html" title="第28章 malloc() の内部実装" /><script xmlns="" type="text/javascript" src="prettify/prettify.js"></script><link xmlns="" rel="stylesheet" type="text/css" href="prettify/skins/sons-of-obsidian.css" /><script xmlns="">
    window.addEventListener("load", function() {
      PR.prettyPrint();
	  });	
	</script><script xmlns="" type="text/javascript" src="script/head.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="ch27s02.html">戻る</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch28.html">次へ</a></td></tr></table><hr /></div><div class="part"><div class="titlepage"><div><div><h1 class="title"><a id="_glibc_から_malloc_の基本構造を理解してみる"></a>パート IV. glibc から malloc() の基本構造を理解してみる</h1></div></div></div><p>　glibc は GNU-C のライブラリーです。</p><p>　C++ のコンパイラなんかもこれを使っています。</p><p>　malloc() 関数の実装も glibc に含まれます。</p><p>　ということでメモリー管理を掘り下げたいなら glibc を少し学んでおく必要があります。</p><p>　とは言っても glibc 全部の説明なんて、とてもじゃないけどできません。</p><p>　それで詳細のチェックは読者におまかせしますが、まずはソースコードを読める環境だけは整えようじゃありませんか。</p><p>　まずは現在使われている glibc のバージョンをチェックです。</p><pre xmlns="" class="prettyprint">$ ldd --version
ldd (Ubuntu GLIBC 2.27-3ubuntu1) 2.27
Copyright (C) 2018 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
作者 Roland McGrath および Ulrich Drepper。</pre><p>　それと glibc のライブラリーはコマンド（実行可能ファイル）として使うと、バージョンがチェックできます。</p><pre xmlns="" class="prettyprint">$ /lib/x86_64-linux-gnu/libc.so.6
GNU C Library (Ubuntu GLIBC 2.27-3ubuntu1) stable release version 2.27.
Copyright (C) 2018 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.
Compiled by GNU CC version 7.3.0.
libc ABIs: UNIQUE IFUNC
For bug reporting instructions, please see:
&lt;https://bugs.launchpad.net/ubuntu/+source/glibc/+bugs&gt;.</pre><p>　その他にもバージョンの調べ方は色々あるので読者におまかせしますね。</p><p>　最後に glibc を github からダウンロードする必要があるんですが、これは読者が自分で調べることを進めますが、一応以下のように bminor さんという方がリポジトリーを作っているのでクローンできるようになっています。</p><pre xmlns="" class="prettyprint">$ git clone -b release/2.27/master https://github.com/MacKomatsu/glibc.git</pre><p>　https://github.com/MacKomatsu/glibc.git リポジトリーは bminor の glibc というリポジトリーを2018年にフォークしたものです。</p><p>　コマンドの方は「release/2.27/master」というブランチを指定してクローンしています。</p><p>　筆者も glibc に詳しい「ニキ」（アニキ、アネキの短縮形として 2ch で誕生した言葉らしい）ではないので glibc-2.27 のリリース版と勝手に理解しています。</p><p>　まあ、ブランチが多すぎて、何がリリースなのか分からないといきはリリースと名前のついたものを見つけておけば、大体は古いバージョンのリリース版なので、間違ってはないと思います。</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch27s02.html">戻る</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch28.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div><p xmlns="">Copyright 2018-2019, by Masaki Komatsu</p></body></html>